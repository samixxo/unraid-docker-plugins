<?xml version="1.0" encoding="utf-8"?>
<Container version="2">
    <Name>drone-agent</Name>
    <Category>Cloud:</Category>
    <Project>https://drone.io/</Project>
    <Icon>https://raw.githubusercontent.com/samixxo/unraid-docker-templates/master/plugin/icon/drone-agent.png</Icon>
    <Overview>Drone runner to execute your build pipelines.</Overview>
    <Registry>https://hub.docker.com/r/drone/agent</Registry>
    <Repository>drone/drone-runner-docker:1</Repository>
    <GitHub>https://github.com/drone/drone</GitHub>
    <Privileged>false</Privileged>
    <BindTime>true</BindTime>
    <Network Default="bridge">bridge</Network>
    <Config Required="true" Type="Variable" Name="Server Protocol"
            Target="DRONE_RPC_PROTO" Default="https" Display="always-hide"
            Description="Protocol used by your drone server (http/https)"/>
    <Config Required="true" Type="Variable" Name="Server Host"
            Target="DRONE_RPC_HOST" Default="" Display="always-hide"
            Description="Hostname and optional port of your drone server (drone.mydomain.net)"/>
    <Config Required="true" Type="Variable" Name="Secret" Mask="true"
            Target="DRONE_RPC_SECRET" Default="" Display="always-hide"
            Description="Shared secret used to authenticate with your drone server. This must match the secret defined in your drone server configuration"/>
    <Config Required="true" Type="Variable" Name="Capacity"
            Target="DRONE_RUNNER_CAPACITY" Default="2" Display="always-hide"
            Description="Limits the number of concurrent pipelines that a runner can execute"/>
    <ExtraParams>
        -v '/var/run/docker.sock':'/var/run/docker.sock':ro
        -p '3000':'3000'
    </ExtraParams>
</Container>